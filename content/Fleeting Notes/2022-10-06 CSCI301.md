tags: #notes #fleeting
creation date: [[2022-10-06 Thursday]] 11:24:14
description:: self-documenting code

input/output
parameters/variables and their usage
idk which slideshow this is i got here 20 min late
distinguishing read/write access for variables
- if it doesnt change make it a final variable
- when a variable is passed through a method in java, if it's changed then it changes the original variable

do you need a value to be exact for it to work?
ex. where every 32 steps they run a block
- does it have to be 32 steps exactly?
- why did they use bitwise operators instead of modulo?
- "what is the role of local variables such as b m s i pk pe here"
- "what is the role of magic numbers such as 5000 50 100 10 31 here"
- should be labeled with a comment!

code reading
- follow black box approach
- update with comments

#####  Self-Documenting Code
notes from [[Code Complete]]
- classes
	- name
		- describes central purpose
	- interface
		- does the class interface present a consistent abstraction
		- does the class interface make it obvious how the class should be used
		- is the class interface abstract enough that you dont have to think about how its services are implemented? can you treat the class as a black box?
	- class interface definition
		- a java interface that accompanies class
		- set of public methods of a class
- methods
	- name
		- should communicate exactly what the method does
		- "easy to name if it only has one job to do instead of fifteen"
	- structure
		- does each routine have one well defined task
	- interface
		- is each routines interface obvious and clear
- data/variables/objects
	- types
		- are type names descriptive enough to help document data declarations
		- are well named **enum types** used instead of makeshift flags or boolean variables
	- variables
		- are variables named well
		- are variables used only for the purpose for which theyre named
		- are **loop counters** given more informative names than i, j, k
	- constants
		- are named constants used instead of magic numbers or magic strings
	- naming conventions
		- do naming conventions distinguish among type names, enum types, named constants, local variables, class variables, and global variables
		- camelcase common practice in java
more valuable to emphasize clarity upfront than writing something that is compact, restricted, best performance, least memory
- control
1. is nominal path through the code clear?
2. related statements grouped together?
3. relatively independent groups of statements, packaged into own routines?
4. does normal case follow the if rather than the esle?
5. are control structures simple so they minimize complexity?
6. does each loop perform one and only one function, as a well defined method would?
7. is nesting minimized?
8. have boolean expressions been simplified by using additional boolean variables and functions?
- data organization
	- extra variables for clarity
	- references to variables close together
	- simple data types to minimize complexity
	- is complicated data accessed through abstract access routines (abstract data types)
- layout
	- does the programs layout show its logical structure
- design
	- is the code straightforward, does it **avoid cleverness**
	- are implementation details hidden as much as possible
	- is the program **written in terms of the problem domain** as much as possible rather than in terms of computer science of programming language structures?
- anything else
	- add comments
		- to clarify intent
		- to summarize code
	- add code to **assert** properties on intermediate results
		- assert(boolean condition) : error message;
		- can make this error message clear as to what the problem is
		- example: assert the absolute value is 0 <= n <= 10
		- assert(n >== 0 && n <= 10) : "bad number: + n";
	- in vm, `-ea` means enable assertions
	- otherwise doesnt run them in a production environment
	- example in presentation go look at it

javadoc formatted comments
```Java
/**
 * this is format of a javadoc comment
 * javadoc takes all these comments and turns them into a html documentation
 * @param idk what these tag things do i should look them up but it specifies
 * different stuff like parameters of a method and stuff
 * @return and stuff idk
 */
```
should use this

where are we at this point
hypothesis: code documentation leaves much to desire
observation: purpose/intent difficult to recover
- class level: missing info
	- responsibilities, constraints, collaborators, order of operations, thread-safety
- method level: missing info
	- purpose, info carried by individual varibales, parameters, return values
- class attribute/field level: missing info
	- info carried by attribute
	- legal range of values, meaning of particular values/magic numbers
	- measurement units
	- constraints that must hold across several attributes
	- state-depending behavior of methods

when is the right moment to write documentation
- before filling an empty body of a method
	- add javadoc comments to clarify what method does, inputs
	- otherwise keep comments close to code (principle of proximity)
	- add comments for foreseen variables
	- add comments to method body to itemize important steps
- while programming the code inside the body of a method
	- summarize blocks of code
	- surprises, additional insight
	- comments for special cases
	- assertions
	- keep it simple
- after programming the code of a method
	- **rename variables** to longer meaningful names
	- tag variables as constant/final whenever possible
	- use meaningul names for constants instead of magic numbers
	- add comments to variables, init values, usage constraints
	- add comments to make the case for termination of loops and recursive method calls
	- in general
		- reread code for correctness
		- write comments that state the arguments you make for yourself why the method terminates and is correct
		- **focus on why, not how**

summary
- able to recover what a piece of code does but not what the dev wanted it to do
	- our document should express this
- the level of abstraction between code and comments differs, there is no need to comment on the trivial
- different forms of documentation

**"dont document bad code, rewrite it"**