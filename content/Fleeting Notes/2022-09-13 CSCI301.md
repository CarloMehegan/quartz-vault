tags: #notes #fleeting
creation date: [[2022-09-13 Tuesday]] 10:58:37
description:: learning java

## Learning Java

learning strategies
unproductive - read 1000 pages of a "how to read java book"
productive - reading docs, specific tutorials, using sources as guidance, learning by example, learning by common mistakes - "10 most common mistakes in Java programming"

last "class" we focused on basic types, some more complex types like arrays, control flow, and control flow organization like functions/procedures/methods
today we are talking about object orientation

## Object Orientation
joins notion of data types and control flow
object: attributes and methods

Encapsulation
- getting control over access to data
- allows for divide and conquer to beat complexity

Types and Interfaces
- object has its own methods and data
- object can take different roles
	- eg a human can be a writer, taxi driver, chef, ...
	- so the type system of an object oriented language must account for that
	- result: Polymorphism

Inheritance
- when different classes use the same methods
- could have general Furniture class that Chair and Table inherit
- reduces the amount of code in the code base
- can be used to organize our understanding/knowledge
	- hierarchy of abstractions
	- most abstract/general on top, most specific on bottom


## OO in Java
in java
primitve types as basic building blocks
- integrals, booleans, floats

building data structures
- container for values of the same type - arrays
- container for values of various types? - objects!

java.lang.Object
- the cosmic super class

class vs. object
- objects are instantiated out of classes
- objects have a life cycle
	- birth, life, death
	- instantiation, usage, garbage collection

object as an instance of a class
- object has an identity, has a state, has behavior
	- identity means unique, can be distinguished from other objects
	- each objects own, particular memory location
	- multiple variables can share the reference to an object
- lifecycle
	- instantiated with `new`
	- removed by automatic garbage collection
- state
	- fields (instance variables) declared in a class
	- possibly primitive types, arrays, or references to objects
- behavior
	- set of methods
		- each method is a function
		- optionally with input parameters, return values
		- access to internal state of object
	- special constructor methods
		- initialize the objects/instances

what is a class?
- defines a type
- provides the implementation for a particular kind of object

a class definition includes
- definition of fields (instance variables) that are
	- initialized in constructor method
	- accessed (read/write) in methods - get / set methods
	- fields are not typically visible/accessible from outside the scope of the class (encapsulation)
- definition of methods
	- functions for the class
	- can have different levels of visibility
	- public - how the class is used
	- private - used by the class, usually helper functions
	- protected - ?idk
- specification of interfaces that the class implements
- direct superclass the class is a child of
	- if superclass is not specified, then it is java.lang.Object
	- implies tree-type class hierarchy with Object as the root

```Java
import java.util.Date;
public class Age extends Date implements AgeInterface {
	private boolean ok ;
	public Age() {
		super() ;
		ok = false ;
	}
	public void setStart(Date start) {
		setTime(start.getTime());
		ok = true ;
	}
	public long getAgeInMillisec() {
		if (!ok) return 0L ;
		Date now = new Date() ;
		return now.getTime() - getTime() ;
	}
}
```

sidenote: super()
- will call the method of the same name from parent class, then run child class' method

which code belongs to a class?
- own code
	- fields
	- methods
- inherited code
	- from direct parent class / aka "superclass"
	- from superclass of direct superclass
	- etc
- own code can override inherited methods
	- @Override
	- change a child class' method that was inherited from parent class

object instantiation
- `new` command to request object creation
- JVM provides k bytes of memory for object in its heap space
- memory initialized
- superclass constructor called
- "stack contains stackframes of currently executed methods, local variables hold references to objects in heapspace" what does this mean

object usage
- encapsulation
	- state of object should be private
	- no direct external access
- valid object state
	- constructor method should deliver valid state (WHAT are we talking about)
	- each method should yield valid state
- object state may enforce order constraint
- 2 kinds of methods
	- access methods
		- obtain info, no state change
	- mutator methods
		- changes state

interface
- a collection of method definitions and constant values
- class can promise to "implement" or provide methods for interface
- multiple classes can implement same interface
- variables can be of interface type
	- hides actual class of referenced object
	- useful for abstraction, flexibility, will lead to polymorphism

```Java
public interface AgeInterface {
	public void setStart(Date startingDate) ;
	public long getAgeInMillisec() ;
}

public class Age extends Date implements AgeInterface { 
	â€¦
}

Age a = new Age() ;
AgeInterface b = new Age() ;

b.getAgeInMillisec() ;
```

garbage collection
- at some point, object may not be needed anymore
	- its memory should be released and recycled
- leanguages like c, c++ rely on programmer to code this
	- release object, free memory
- java performs automated garbage collection
	- no concern to programmer
	- algorithm
		- Checks which objects in heap space are directly or indirectly referenced from variables on stack
		- If object can not be reached anymore, its memory is released and recycled.
		- Note: the actual algorithm is more complicated, there are additional special cases, but this is the main idea. 
	- jvm decides when garbage collection is performed
		- based on memory usage
		- can have subtle performance implications

static code
- static code of a class can be executed without having an object of that class
	- access via Classname.id
- constants
	- `final` to denote constant
	- initialized where defined
- methods
	- stateless methods that transform input into output
	- main method
- class variable
	- shared date across all instances of a class
	- prime suspect for memory leaks

```Java
//Example
//from java.lang.Math
static double PI
static double E

//in code:
static final int MY_INT = 1 ;
static double log(double a)
static double sqrt(double a)
static void main(String[] argv)
static int mySharedMemo ;

//Access:
MyClass.mySharedMemo = 1;
```

naming conventions
- package names
	- all lower case
- class names
	- start upper case
- methods
	- start lower case
	- exception: constructor
	- get/set prefix
- CamelCase
	- common for a mix of upper and lower cases
- constants
	- all capital letters
	- underscore as delimiter